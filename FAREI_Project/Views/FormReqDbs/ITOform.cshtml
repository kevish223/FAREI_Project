@using FAREI_Project.ViewModel
@model RequestsViewModel

@{

}
<h1>ITO</h1>
<table class="table" style="border: 1px solid black">
    <thead>
        <tr>
          
            <th>
                @Html.DisplayNameFor(model => model.FormReqDbs.Site)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FormReqDbs.Department)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FormReqDbs.ResponsibleOfficer)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FormReqDbs.ContactPhone)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FormReqDbs.ProblemDescription)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FormReqDbs.SerialNumber)
            </th>
            <th>
                @Html.DisplayNameFor(Model=>Model.FormReqDbs.status)
            </th>
            <th></th>


        </tr>
    </thead>
    <tbody>
@foreach (var item in Model.FormReqDb) {
        
            var status = item.status?.Trim().ToLower();
            string statusClass = "";

            if (string.IsNullOrWhiteSpace(status))
            {
                statusClass = "table-pending";
                
            }
            else if (status == "accepted")
            {
                statusClass = "table-accept";
               
            }
            else if (status == "reject")
            {
                statusClass = "table-reject";
               
            }
            else if (status == "transit")
            {
                statusClass = "table-transit";
       
            }
            else
            {
                statusClass = "table-pending";
               
            }
        <tr>

            <td>
                @Html.DisplayFor(modelItem => item.Site)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Department)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ResponsibleOfficer)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ContactPhone)
            </td>
  
            <td>
                @Html.DisplayFor(modelItem => item.ProblemDescription)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.SerialNumber)
            </td>   
            <td class ="@statusClass">
                @Html.DisplayFor(modelItem=>item.status)
            </td>
            <td>
                <a asp-action="repairedDetail" asp-route-id="@item.Id">Details</a>
            </td>
        </tr>
}
    </tbody>
</table>
